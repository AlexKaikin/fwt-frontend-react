(self.webpackChunkfwt_test=self.webpackChunkfwt_test||[]).push([[199],{199:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(791),r=n(434),s=n(895),a=n(132),l=n(683),c=n(439),o=n(95),u=n.n(o),d=n(184),h=function(e){var t=e.authors,n=e.locations,o=e.authorId,h=e.locationId,f=e.status,v=(0,r.I0)(),m=(0,i.useState)(""),x=(0,c.Z)(m,2),C=x[0],g=x[1],j=(0,i.useState)(!1),p=(0,c.Z)(j,2),w=p[0],L=p[1],_=(0,i.useState)(!1),N=(0,c.Z)(_,2),b=N[0],y=N[1],Z=(0,i.useState)(!1),k=(0,c.Z)(Z,2),M=k[0],S=k[1],I=(0,i.useState)(""),B=(0,c.Z)(I,2),P=B[0],R=B[1],D=(0,i.useState)(""),O=(0,c.Z)(D,2),T=O[0],W=O[1],$=0===o?"Author":t.find((function(e){return e.id===o})).name,A=(0,i.useRef)();if(A.current){var E=Math.round(A.current.offsetWidth/10);$.length>E&&($=$.slice(0,E)+"...")}var F=null;if(A.current){var Q=Math.round(A.current.offsetWidth/7);F=t.map((function(e){if(e.name.length>Q){var t=(0,l.Z)({},e);return t.name=e.name.slice(0,Q)+"...",t}return e}))}var H=0===h?"Location":n.find((function(e){return e.id===h})).location,U=(0,i.useRef)();if(U.current){var q=Math.round(U.current.offsetWidth/10);H.length>q&&(H=H.slice(0,q)+"...")}var z=null;if(U.current){var G=Math.round(U.current.offsetWidth/7);z=n.map((function(e){if(e.location.length>G){var t=(0,l.Z)({},e);return t.location=e.location.slice(0,G)+"...",t}return e}))}var J=(0,i.useMemo)((function(){return u()((function(e){v((0,s.QZ)(e)),v((0,a.D4)(1))}),3e3)}),[v]),K=(0,i.useCallback)((function(e){g(e.target.value),J(e.target.value)}),[J]),V=function(e){o!==e?(v((0,s.AP)(e)),v((0,a.D4)(1)),L(!1)):L(!1)},X=function(e){h!==e?(v((0,s.l6)(e)),v((0,a.D4)(1)),y(!1)):y(!1)},Y=(0,i.useMemo)((function(){return u()((function(e){v((0,s.Lh)(e)),v((0,a.D4)(1))}),3e3)}),[v]),ee=(0,i.useMemo)((function(){return u()((function(e){v((0,s.hC)(e)),v((0,a.D4)(1))}),3e3)}),[v]);return"loading"===f?null:"error"===f?"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0430\u0432\u0442\u043e\u0440\u043e\u0432 \u0438 \u043b\u043e\u043a\u0430\u0446\u0438\u0439":(0,d.jsx)("div",{className:"section filter",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"filter__items",children:[(0,d.jsx)("div",{className:"filter__item",children:(0,d.jsxs)("div",{className:"input",children:[(0,d.jsx)("input",{onChange:K,value:C,type:"text",placeholder:"Name"}),""!==C&&(0,d.jsx)("div",{onClick:function(){g(""),v((0,s.QZ)(""))},className:"input__cleare",children:(0,d.jsx)("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.36474 1.21893C2.07355 0.924339 1.60144 0.924339 1.31025 1.21893C1.01906 1.51351 1.01906 1.99113 1.31025 2.28572L3.94492 4.95114L1.21644 7.71146C0.92525 8.00604 0.92525 8.48366 1.21644 8.77825C1.50763 9.07284 1.97974 9.07284 2.27093 8.77825L4.99941 6.01793L7.72779 8.77815C8.01898 9.07274 8.49109 9.07274 8.78228 8.77815C9.07347 8.48356 9.07347 8.00594 8.78228 7.71136L6.0539 4.95114L8.68848 2.28582C8.97966 1.99124 8.97967 1.51361 8.68848 1.21903C8.39729 0.92444 7.92517 0.924441 7.63399 1.21903L4.99941 3.88434L2.36474 1.21893Z"})})})]})}),(0,d.jsx)("div",{className:w?"filter__item active":"filter__item",children:(0,d.jsxs)("div",{className:w?"select active":"select",children:[(0,d.jsx)("div",{ref:A,onClick:function(){return L(!w)},className:"option",children:$}),0!==o&&(0,d.jsx)("div",{onClick:function(){return V(0)},className:"select__cleare",children:(0,d.jsx)("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.36474 1.21893C2.07355 0.924339 1.60144 0.924339 1.31025 1.21893C1.01906 1.51351 1.01906 1.99113 1.31025 2.28572L3.94492 4.95114L1.21644 7.71146C0.92525 8.00604 0.92525 8.48366 1.21644 8.77825C1.50763 9.07284 1.97974 9.07284 2.27093 8.77825L4.99941 6.01793L7.72779 8.77815C8.01898 9.07274 8.49109 9.07274 8.78228 8.77815C9.07347 8.48356 9.07347 8.00594 8.78228 7.71136L6.0539 4.95114L8.68848 2.28582C8.97966 1.99124 8.97967 1.51361 8.68848 1.21903C8.39729 0.92444 7.92517 0.924441 7.63399 1.21903L4.99941 3.88434L2.36474 1.21893Z"})})}),(0,d.jsx)("div",{onClick:function(){return L(!w)},className:"select__arrow",children:(0,d.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M9.67861 1.8337L5.77064 5.68539C5.34503 6.10487 4.65497 6.10487 4.22936 5.68539L0.321394 1.8337C-0.365172 1.15702 0.121082 -8.3659e-08 1.09203 0L8.90797 6.73452e-07C9.87892 7.57113e-07 10.3652 1.15702 9.67861 1.8337Z"})})}),(0,d.jsx)("div",{className:w?"more show":"more",children:F&&F.map((function(e){return(0,d.jsx)("div",{className:"option",onClick:function(){return V(e.id)},children:e.name},e.id)}))})]})}),(0,d.jsx)("div",{className:b?"filter__item active":"filter__item",children:(0,d.jsxs)("div",{className:b?"select active":"select",children:[(0,d.jsx)("div",{ref:U,onClick:function(){return y(!b)},className:"option",children:H}),0!==h&&(0,d.jsx)("div",{onClick:function(){return X(0)},className:"select__cleare",children:(0,d.jsx)("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.36474 1.21893C2.07355 0.924339 1.60144 0.924339 1.31025 1.21893C1.01906 1.51351 1.01906 1.99113 1.31025 2.28572L3.94492 4.95114L1.21644 7.71146C0.92525 8.00604 0.92525 8.48366 1.21644 8.77825C1.50763 9.07284 1.97974 9.07284 2.27093 8.77825L4.99941 6.01793L7.72779 8.77815C8.01898 9.07274 8.49109 9.07274 8.78228 8.77815C9.07347 8.48356 9.07347 8.00594 8.78228 7.71136L6.0539 4.95114L8.68848 2.28582C8.97966 1.99124 8.97967 1.51361 8.68848 1.21903C8.39729 0.92444 7.92517 0.924441 7.63399 1.21903L4.99941 3.88434L2.36474 1.21893Z"})})}),(0,d.jsx)("div",{onClick:function(){return y(!b)},className:"select__arrow",children:(0,d.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M9.67861 1.8337L5.77064 5.68539C5.34503 6.10487 4.65497 6.10487 4.22936 5.68539L0.321394 1.8337C-0.365172 1.15702 0.121082 -8.3659e-08 1.09203 0L8.90797 6.73452e-07C9.87892 7.57113e-07 10.3652 1.15702 9.67861 1.8337Z"})})}),(0,d.jsx)("div",{className:b?"more show":"more",children:z&&z.map((function(e){return(0,d.jsx)("div",{className:"option",onClick:function(){return X(e.id)},children:e.location},e.id)}))})]})}),(0,d.jsx)("div",{className:"filter__item",children:(0,d.jsxs)("div",{className:M?"select active":"select",children:[(0,d.jsx)("div",{onClick:function(){return S(!M)},className:"option",children:"Created"}),(0,d.jsx)("div",{className:M?"more show":"more",children:(0,d.jsxs)("div",{className:"option created",children:[(0,d.jsx)("div",{className:"created__item",children:(0,d.jsx)("input",{onChange:function(e){R(e.target.value),Y(e.target.value)},value:P,type:"text",placeholder:"from"})}),(0,d.jsx)("div",{className:"created__item dash"}),(0,d.jsx)("div",{className:"created__item",children:(0,d.jsx)("input",{onChange:function(e){W(e.target.value),ee(e.target.value)},value:T,type:"text",placeholder:"before"})})]})}),(""!==P||""!==T)&&(0,d.jsx)("div",{onClick:function(){R(""),W(""),v((0,a.D4)(1))},className:"select__cleare",children:(0,d.jsx)("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.36474 1.21893C2.07355 0.924339 1.60144 0.924339 1.31025 1.21893C1.01906 1.51351 1.01906 1.99113 1.31025 2.28572L3.94492 4.95114L1.21644 7.71146C0.92525 8.00604 0.92525 8.48366 1.21644 8.77825C1.50763 9.07284 1.97974 9.07284 2.27093 8.77825L4.99941 6.01793L7.72779 8.77815C8.01898 9.07274 8.49109 9.07274 8.78228 8.77815C9.07347 8.48356 9.07347 8.00594 8.78228 7.71136L6.0539 4.95114L8.68848 2.28582C8.97966 1.99124 8.97967 1.51361 8.68848 1.21903C8.39729 0.92444 7.92517 0.924441 7.63399 1.21903L4.99941 3.88434L2.36474 1.21893Z"})})}),(0,d.jsx)("div",{onClick:function(){return S(!M)},className:"select__arrow",children:(0,d.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M9.67861 1.8337L5.77064 5.68539C5.34503 6.10487 4.65497 6.10487 4.22936 5.68539L0.321394 1.8337C-0.365172 1.15702 0.121082 -8.3659e-08 1.09203 0L8.90797 6.73452e-07C9.87892 7.57113e-07 10.3652 1.15702 9.67861 1.8337Z"})})})]})})]})})})},f=function(e){var t=e.pagesCount,n=e.currentPage,i=[];return function(e,t,n){if(t>5)if(n>4)for(var i=n-2;i<=n+2&&(e.push(i),i!==t);i++);else for(var r=1;r<=5&&(e.push(r),r!==t);r++);else for(var s=1;s<=t;s++)e.push(s)}(i,t,n),i.length<2?null:(0,d.jsxs)("div",{className:"pagination",children:[(0,d.jsx)("button",{onClick:function(){return e.currentPageChange(1)},className:"page",disabled:1===n,children:(0,d.jsx)("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M2.71401 6.49988L7.80231 1.62545C8.16797 1.275 8.16797 0.706895 7.80231 0.356587C7.43665 0.00613754 6.84368 0.00613754 6.47787 0.356587L0.727266 5.86567C0.544436 6.04091 0.453125 6.27034 0.453125 6.49988C0.453125 6.72951 0.544614 6.9591 0.727266 7.13426L6.47787 12.6433C6.84368 12.9939 7.43668 12.9939 7.80231 12.6433C8.16797 12.293 8.16797 11.7248 7.80231 11.3745L2.71401 6.49988ZM13.632 11.3745C13.9977 11.7248 13.9977 12.293 13.632 12.6433C13.2663 12.9939 12.6735 12.9939 12.3075 12.6433L6.55693 7.13428C6.3741 6.95913 6.28293 6.72953 6.28293 6.49991C6.28293 6.27037 6.37427 6.04077 6.55693 5.8657L12.3075 0.356587C12.6735 0.00613754 13.2663 0.00613754 13.632 0.356587C13.9977 0.706895 13.9977 1.27498 13.632 1.62545L8.54358 6.49988L13.632 11.3745Z"})})}),(0,d.jsx)("button",{onClick:function(){return e.currentPageChange(n-1)},className:"page",disabled:1===n,children:(0,d.jsx)("svg",{width:"9",height:"13",viewBox:"0 0 9 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M0.932837 7.13428L6.73159 12.6433C7.10046 12.9939 7.69852 12.9939 8.06721 12.6433C8.43593 12.293 8.43593 11.7248 8.06721 11.3745L2.93621 6.49991L8.06706 1.62545C8.43578 1.275 8.43578 0.706895 8.06706 0.356587C7.69834 0.00613754 7.10031 0.00613754 6.73144 0.356587L0.932687 5.86567C0.748326 6.04091 0.65625 6.27034 0.65625 6.49988C0.65625 6.72953 0.748506 6.95913 0.932837 7.13428Z"})})}),null===i||void 0===i?void 0:i.map((function(t){return(0,d.jsx)("button",{onClick:function(){return n!==t&&e.currentPageChange(t)},className:n===t?"page active":"page",children:t},t)})),(0,d.jsx)("button",{onClick:function(){return e.currentPageChange(n+1)},className:"page",disabled:n===t,children:(0,d.jsx)("svg",{width:"9",height:"13",viewBox:"0 0 9 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M8.06716 7.13428L2.26841 12.6433C1.89954 12.9939 1.30148 12.9939 0.932791 12.6433C0.56407 12.293 0.56407 11.7248 0.932791 11.3745L6.06379 6.49991L0.93294 1.62545C0.564219 1.275 0.564219 0.706895 0.93294 0.356587C1.30166 0.00613754 1.89969 0.00613754 2.26856 0.356587L8.06731 5.86567C8.25167 6.04091 8.34375 6.27034 8.34375 6.49988C8.34375 6.72953 8.25149 6.95913 8.06716 7.13428Z"})})}),(0,d.jsx)("button",{onClick:function(){return e.currentPageChange(t)},className:"page",disabled:n===t,children:(0,d.jsx)("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M11.286 6.49988L6.19769 1.62545C5.83203 1.275 5.83203 0.706895 6.19769 0.356587C6.56335 0.00613754 7.15632 0.00613754 7.52213 0.356587L13.2727 5.86567C13.4556 6.04091 13.5469 6.27034 13.5469 6.49988C13.5469 6.72951 13.4554 6.9591 13.2727 7.13426L7.52213 12.6433C7.15632 12.9939 6.56332 12.9939 6.19769 12.6433C5.83203 12.293 5.83203 11.7248 6.19769 11.3745L11.286 6.49988ZM0.367995 11.3745C0.00233503 11.7248 0.00233503 12.293 0.367995 12.6433C0.733655 12.9939 1.32645 12.9939 1.69247 12.6433L7.44307 7.13428C7.6259 6.95913 7.71707 6.72953 7.71707 6.49991C7.71707 6.27037 7.62573 6.04077 7.44307 5.8657L1.69247 0.356587C1.32648 0.00613754 0.733655 0.00613754 0.367995 0.356587C0.00233503 0.706895 0.00233503 1.27498 0.367995 1.62545L5.45642 6.49988L0.367995 11.3745Z"})})})]})},v=function(e){var t=e.galleryItems,n=e.authors,i=e.locations,r=e.galleryStatus,s=e.filterStatus;return"loading"===r?(0,d.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):"success"===r&&0===t.length?(0,d.jsx)("p",{children:"\u041a\u0430\u0440\u0442\u0438\u043d \u043d\u0435\u0442"}):"error"===r?(0,d.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043a\u0430\u0440\u0442\u0438\u043d"}):(0,d.jsx)("div",{className:"gallery__items",children:"success"===r&&t.map((function(e){return(0,d.jsxs)("div",{className:"gallery__item item",children:[(0,d.jsx)("img",{src:"https://test-front.framework.team/".concat(e.imageUrl),alt:e.name}),(0,d.jsxs)("div",{className:"item__info info",children:[(0,d.jsx)("div",{className:"info__item",children:e.name}),(0,d.jsxs)("div",{className:"item__more",children:[(0,d.jsxs)("div",{className:"info__item",children:["Author: ",(0,d.jsx)("span",{children:"success"===s&&n.find((function(t){return t.id===e.authorId})).name})]}),(0,d.jsxs)("div",{className:"info__item",children:["Created: ",(0,d.jsx)("span",{children:e.created})]}),(0,d.jsxs)("div",{className:"info__item",children:["Location: ",(0,d.jsx)("span",{children:"success"===s&&i.find((function(t){return t.id===e.locationId})).location})]})]})]})]},e.id)}))})},m=function(e){var t=(0,r.I0)(),n=(0,r.v9)(s.S7),l=n.authors,c=n.locations,o=n.filterStatus,u=n.nameQuery,m=n.authorId,x=n.locationId,C=n.createdFrom,g=n.createdBefore,j=(0,r.v9)(a.fZ),p=j.galleryItems,w=j.pagesCount,L=j.currentPage,_=j.galleryStatus;return(0,i.useEffect)((function(){t((0,a.H7)(u,m,x,C,g,L)),window.scrollTo(0,0)}),[t,u,m,x,C,g,L]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{authors:l,locations:c,status:o,authorId:m,locationId:x}),(0,d.jsx)("div",{className:"section gallary",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)(v,{galleryItems:p,authors:l,locations:c,galleryStatus:_,filterStatus:o}),(0,d.jsx)(f,{pagesCount:w,currentPage:L,currentPageChange:function(e){return t((0,a.D4)(e))}})]})})]})}},95:function(e,t,n){var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,o="object"==typeof self&&self&&self.Object===Object&&self,u=c||o||Function("return this")(),d=Object.prototype.toString,h=Math.max,f=Math.min,v=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||a.test(e)?l(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,s,a,l,c,o=0,u=!1,d=!1,C=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=i,s=r;return i=r=void 0,o=t,a=e.apply(s,n)}function j(e){return o=e,l=setTimeout(w,t),u?g(e):a}function p(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-o>=s}function w(){var e=v();if(p(e))return L(e);l=setTimeout(w,function(e){var n=t-(e-c);return d?f(n,s-(e-o)):n}(e))}function L(e){return l=void 0,C&&i?g(e):(i=r=void 0,a)}function _(){var e=v(),n=p(e);if(i=arguments,r=this,c=e,n){if(void 0===l)return j(c);if(d)return l=setTimeout(w,t),g(c)}return void 0===l&&(l=setTimeout(w,t)),a}return t=x(t)||0,m(n)&&(u=!!n.leading,s=(d="maxWait"in n)?h(x(n.maxWait)||0,t):s,C="trailing"in n?!!n.trailing:C),_.cancel=function(){void 0!==l&&clearTimeout(l),o=0,i=c=r=l=void 0},_.flush=function(){return void 0===l?a:L(v())},_}}}]);
//# sourceMappingURL=199.4abede22.chunk.js.map